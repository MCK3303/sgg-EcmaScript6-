<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-- 
    生成器其实是一个特殊的函数
    异步编程  纯回调函数
    用到代码的分隔符 yield语句
 -->
<body>
    
    <script>
        // 生成器声明 函数名前带个星号*
        function *gen(){
            console.log('这里是第1块代码');
            yield '————第一个分隔符————';
            console.log('这里是第2块代码');
            yield '————第二个分隔符————';
            console.log('这里是第3块代码');
            yield '————第三个分隔符————';

        }
        let iter = gen();
        // 单输出iter时可以看到其Prototype是一个Generator
        // 因为调用Generator函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象
        // Generator函数是ES6提供的一种异步编程解决方案
        // 所谓“异步”，就是一个任务分成两段，先执行第一段，然后转而执行其他任务，等做好了准备，再回头执行第二段
        // console.log(iter);

        // 输出执行generator中的next()方法，异步执行代码块↓
        // 可以看到输出的就是{value:'',done:'false/true'}跟迭代器的一样
        console.log(iter.next());
        console.log(iter.next());
        console.log(iter.next());
        // 也可以使用for...of遍历
        for(let v of gen()){
            console.log(v);
        }
        
    </script>
</body>
</html>